{"ast":null,"code":"import _regeneratorRuntime from \"/home/hyperloop/dev/ether-flask/_agistic/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/home/hyperloop/dev/ether-flask/_agistic/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _slicedToArray from \"/home/hyperloop/dev/ether-flask/_agistic/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/home/hyperloop/dev/ether-flask/_agistic/client/src/components/Signup/Signup.js\";\nimport React, { useCallback, useState, useEffect } from \"react\"; // import { withRouter } from \"react-router\";\n\nimport app from \"../firebase/firebase.js\";\nimport './Signup.css';\nimport Navbar from '../Navbar/Navbar';\n\nvar Signup = ({\n  history\n}) => {\n  var _useState = useState('nouser'),\n      _useState2 = _slicedToArray(_useState, 2),\n      type = _useState2[0],\n      setType = _useState2[1];\n\n  var handleSignUp = useCallback( /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(event) {\n      var _event$target$element, email, password, types;\n\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              event.preventDefault(); // console.log(type);\n\n              _event$target$element = event.target.elements, email = _event$target$element.email, password = _event$target$element.password, types = _event$target$element.types;\n              console.log(types.value);\n              _context.prev = 3;\n              _context.next = 6;\n              return app.auth().createUserWithEmailAndPassword(email.value, password.value).then(USER => {\n                // Signed in \n                app.auth().onAuthStateChanged(function (user) {\n                  if (user) {\n                    // User is signed in.\n                    var id = user.uid;\n                    var email = user.email; //  window.alert(\"welcome \"+id);\n\n                    app.database().ref('users/' + id).set({\n                      username: document.getElementById(\"username\").value,\n                      email: email,\n                      type: types.value\n                    }, error => {\n                      if (error) {\n                        // The write failed...\n                        console.log(\"failed\");\n                        window.alert(\"Please, try again or check your login credentials!\");\n                      } else {\n                        // Data saved successfully!\n                        console.log(\"done!!\");\n                        history.push(\"/\");\n                      }\n                    });\n                  } else {// No user is signed in.\n                  }\n                });\n              }).catch(FirebaseAuthUserCollisionException => {\n                window.alert(\"User Already exist!\"); // ..\n              }).catch(error => {\n                window.alert(\"Something went wrong, please try again!\"); // ..\n              });\n\n            case 6:\n              _context.next = 11;\n              break;\n\n            case 8:\n              _context.prev = 8;\n              _context.t0 = _context[\"catch\"](3);\n              alert(_context.t0);\n\n            case 11:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, null, [[3, 8]]);\n    }));\n\n    return function (_x) {\n      return _ref.apply(this, arguments);\n    };\n  }(), [history]);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"main_top\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Navbar, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"container-fluid padding main\",\n    id: \"main\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 1\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row padding\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-md-6 left\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 3\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"left_div\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 17\n    }\n  }, \"Welcome to Agistic!\"), /*#__PURE__*/React.createElement(\"h4\", {\n    style: {\n      color: 'white'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 17\n    }\n  }, \"Trace your Product\"))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-md-6 right\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: handleSignUp,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    for: \"username\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 21\n    }\n  }, \"Username\"), /*#__PURE__*/React.createElement(\"input\", {\n    className: \"form-control\",\n    type: \"text\",\n    name: \"username\",\n    id: \"username\",\n    placeholder: \"Aashi Shukla\",\n    required: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 21\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    for: \"email\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 21\n    }\n  }, \"Email\"), /*#__PURE__*/React.createElement(\"input\", {\n    className: \"form-control\",\n    type: \"text\",\n    name: \"name\",\n    id: \"email\",\n    placeholder: \"aashishukla@gmail.com\",\n    required: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 21\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    for: \"password\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 21\n    }\n  }, \"Password\"), /*#__PURE__*/React.createElement(\"input\", {\n    className: \"form-control\",\n    type: \"password\",\n    name: \"password\",\n    id: \"password\",\n    placeholder: \"********\",\n    required: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 21\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    for: \"passwordRepeat\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 21\n    }\n  }, \"Repeat Password\"), /*#__PURE__*/React.createElement(\"input\", {\n    className: \"form-control\",\n    type: \"password\",\n    name: \"passwordRepeat\",\n    id: \"passwordRepeat\",\n    placeholder: \"********\",\n    required: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 21\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    for: \"user\",\n    style: {\n      fontWeight: 'bold'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 21\n    }\n  }, \"Choose type of User\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"radio\",\n    id: \"user\",\n    name: \"types\",\n    value: \"user\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 19\n    }\n  }), /*#__PURE__*/React.createElement(\"label\", {\n    for: \"user\",\n    style: {\n      color: 'black',\n      paddingLeft: '5px',\n      paddingRight: '5px'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 11\n    }\n  }, \"User\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"radio\",\n    id: \"manufacturer\",\n    name: \"types\",\n    value: \"manufacturer\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 12\n    }\n  }), /*#__PURE__*/React.createElement(\"label\", {\n    for: \"manufacturer\",\n    style: {\n      color: 'black',\n      paddingLeft: '5px',\n      paddingRight: '5px'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 11\n    }\n  }, \"Manufacturer\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"radio\",\n    id: \"warehouse\",\n    name: \"types\",\n    value: \"warehouse\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(\"label\", {\n    for: \"warehouse\",\n    style: {\n      color: 'black',\n      paddingLeft: '5px',\n      paddingRight: '5px'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 11\n    }\n  }, \"Warehouse\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-12\",\n    style: {\n      textAlign: 'center'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 23\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    type: \"button\",\n    className: \"btn btn--form\",\n    type: \"submit\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 25\n    }\n  }, \"Signup\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-12\",\n    style: {\n      textAlign: 'center'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 23\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    className: \"signup__link\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 25\n    }\n  }, \"Already have an account? \", /*#__PURE__*/React.createElement(\"a\", {\n    href: \"/login\",\n    style: {\n      color: 'blue',\n      textDecoration: 'none'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 78\n    }\n  }, \"Login Here\")))))))));\n};\n\nexport default Signup;","map":{"version":3,"sources":["/home/hyperloop/dev/ether-flask/_agistic/client/src/components/Signup/Signup.js"],"names":["React","useCallback","useState","useEffect","app","Navbar","Signup","history","type","setType","handleSignUp","event","preventDefault","target","elements","email","password","types","console","log","value","auth","createUserWithEmailAndPassword","then","USER","onAuthStateChanged","user","id","uid","database","ref","set","username","document","getElementById","error","window","alert","push","catch","FirebaseAuthUserCollisionException","color","fontWeight","paddingLeft","paddingRight","textAlign","textDecoration"],"mappings":"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","sourcesContent":["import React, {useCallback, useState, useEffect } from \"react\";\r\n// import { withRouter } from \"react-router\";\r\nimport app from \"../firebase/firebase.js\";\r\n\r\nimport './Signup.css';\r\nimport Navbar from '../Navbar/Navbar';\r\n\r\nconst Signup = ({history}) => {\r\n  const [type,setType]=useState('nouser');\r\n\r\n  const handleSignUp = useCallback(async event => {\r\n    event.preventDefault();\r\n    // console.log(type);\r\n    const { email, password , types } = event.target.elements;\r\n    console.log(types.value);\r\n    try {\r\n      await app\r\n        .auth()\r\n        .createUserWithEmailAndPassword(email.value, password.value).then((USER) => {\r\n          // Signed in \r\n          app.auth().onAuthStateChanged(function(user){ \r\n              if (user) { \r\n                // User is signed in.\r\n               var id= user.uid;\r\n               var email=user.email;\r\n                 //  window.alert(\"welcome \"+id);\r\n               app.database().ref('users/' + id).set({\r\n                    username: document.getElementById(\"username\").value,\r\n                    email: email,\r\n                    type :types.value,\r\n              }, (error) => {\r\n                if (error) {\r\n                  // The write failed...\r\n                  console.log(\"failed\");\r\n                  window.alert(\"Please, try again or check your login credentials!\");\r\n                } else {\r\n                  // Data saved successfully!\r\n                  console.log(\"done!!\");\r\n                  history.push(\"/\");\r\n                }\r\n              }); \r\n             } else {\r\n                // No user is signed in.\r\n                 }\r\n             });\r\n       })\r\n       .catch((FirebaseAuthUserCollisionException) => {\r\n         window.alert(\"User Already exist!\");\r\n         // ..\r\n       })\r\n       .catch((error) => {\r\n         window.alert(\"Something went wrong, please try again!\");\r\n         // ..\r\n       });\r\n    } catch (error) {\r\n      alert(error);\r\n    }\r\n  }, [history]);\r\n  return (\r\n    <div className=\"main_top\">\r\n        <Navbar/>\r\n\r\n{/* <!-- Signup form --> */}\r\n<div className=\"container-fluid padding main\" id=\"main\">\r\n    <div className=\"row padding\">\r\n\t\t<div className=\"col-md-6 left\">\r\n            <div className=\"left_div\">\r\n                <h2>Welcome to Agistic!</h2>\r\n                <h4 style={{color: 'white'}}>Trace your Product</h4>\r\n            </div>\r\n\t\t</div>\r\n        <div className=\"col-md-6 right\">\r\n                <form onSubmit={handleSignUp} >\r\n                  <div className=\"form-group\">\r\n                    <label for=\"username\">Username</label>\r\n                    <input className=\"form-control\" type=\"text\" name=\"username\" id=\"username\" placeholder=\"Aashi Shukla\" required />\r\n                  </div>\r\n                  <div className=\"form-group\">\r\n                    <label for=\"email\">Email</label>\r\n                    <input className=\"form-control\" type=\"text\" name=\"name\" id=\"email\" placeholder=\"aashishukla@gmail.com\" required />\r\n                  </div>\r\n                  <div className=\"form-group\">\r\n                    <label for=\"password\">Password</label>\r\n                    <input className=\"form-control\" type=\"password\" name=\"password\" id=\"password\" placeholder=\"********\" required />\r\n                  </div>\r\n                  <div className=\"form-group\">\r\n                    <label for=\"passwordRepeat\">Repeat Password</label>\r\n                    <input className=\"form-control\" type=\"password\" name=\"passwordRepeat\" id=\"passwordRepeat\" placeholder=\"********\" required />\r\n                  </div>\r\n                  <div className=\"form-group\">\r\n                    <label for=\"user\" style={{fontWeight: 'bold'}} >Choose type of User</label>\r\n                  <input type=\"radio\" id=\"user\" name=\"types\" value=\"user\" />\r\n          <label for=\"user\" style={{color: 'black' ,paddingLeft:'5px' ,paddingRight:'5px' }} >User</label>\r\n           <input type=\"radio\" id=\"manufacturer\" name=\"types\" value=\"manufacturer\" />\r\n          <label for=\"manufacturer\" style={{color: 'black' ,paddingLeft:'5px' ,paddingRight:'5px' }}>Manufacturer</label>\r\n          <input type=\"radio\" id=\"warehouse\" name=\"types\" value=\"warehouse\" />\r\n          <label for=\"warehouse\" style={{color:'black' ,paddingLeft:'5px' ,paddingRight:'5px' }}>Warehouse</label>\r\n        </div>\r\n                  <div className=\"row\">\r\n                      <div className=\"col-12\" style={{textAlign: 'center'}}>\r\n                        <button type=\"button\" className=\"btn btn--form\" type=\"submit\">Signup</button>\r\n                      </div>\r\n                      <div className=\"col-12\" style={{textAlign: 'center'}}>\r\n                        <p className=\"signup__link\">Already have an account? <a href=\"/login\" style={{color: 'blue',textDecoration: 'none'}}>Login Here</a></p>\r\n                      </div>\r\n                  </div>\r\n                </form>  \r\n\t\t</div>\r\n\t</div>\r\n</div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Signup;\r\n"]},"metadata":{},"sourceType":"module"}